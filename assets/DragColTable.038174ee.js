import{u as b}from"./FitsTableProHook.52e4f3ef.js";import{S as h}from"./sortable.esm.a99254e8.js";import{J as x,G as _,t as E,y as g,M as T,K as A,a0 as B,T as w,X as I,a5 as v,N as d}from"./clientConfigs.d60c235c.js";import"./index.60801fbb.js";const P=d("span",{class:"drag-btn"},[d("i",{class:"vxe-icon-num-list"})],-1),y=_({__name:"DragColTable",setup(S){const C=E(),u=E(),c={columns:[{field:"name",title:"\u59D3\u540D"},{field:"phone",title:"\u7535\u8BDD"},{field:"birth",title:"\u51FA\u751F\u65E5\u671F"},{field:"address",title:"\u5730\u5740",width:320}],data:[{name:"\u738B\u4E94",phone:"13224452121",birth:"1999-10-08",address:"\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5929\u6CB3\u533A\u4E94\u5C71\u8DEF\u4E1C\u57CE\u5C0F\u533A5\u53F7\u697C401"},{name:"\u674E\u6653\u660E",phone:"13754456492",birth:"2015-05-18",address:"\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5929\u6CB3\u533A\u4E94\u5C71\u8DEF\u4E1C\u57CE\u5C0F\u533A5\u53F7\u697C403"},{name:"\u738B\u5927\u9646",phone:"13324459856",birth:"2000-01-05",address:"\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5929\u6CB3\u533A\u4E94\u5C71\u8DEF\u4E1C\u57CE\u5C0F\u533A5\u53F7\u697C404 "},{name:"\u674E\u840C\u840C",phone:"18712458736",birth:"1879-12-13",address:"\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u6D77\u73E0\u533A\u4E94\u5C71\u8DEF\u5E78\u798F\u5C0F\u533A6\u53F7\u697C101 "},{name:"\u5F20\u5174",phone:"18924584265",birth:"1954-03-25",address:"\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u6D77\u73E0\u533A\u4E94\u5C71\u8DEF\u5E78\u798F\u5C0F\u533A7\u53F7\u697C102 "}],columnConfig:{useKey:!0}},{fitsTablePro:m}=b(c,u);function F(){const l=u.value.fitsTablePro.$el.querySelector(".DragColTable .body--wrapper>.vxe-table--header .vxe-header--row");C.value=h.create(l,{onEnd:e=>{if(e.oldIndex===e.newIndex)return;const o=e.item,a=e.newIndex,s=e.oldIndex,{fullColumn:n,tableColumn:i}=u.value.fitsTablePro.getTableColumn(),r=o.parentNode;if(n[a].fixed){const t=r.children[s];a>s?r.insertBefore(o,t):r.insertBefore(o,t&&t.nextElementSibling),v({message:"\u56FA\u5B9A\u5217\u4E0D\u5141\u8BB8\u62D6\u52A8\uFF01",type:"error"});return}const f=u.value.fitsTablePro.getColumnIndex(i[s]),p=u.value.fitsTablePro.getColumnIndex(i[a]),D=n.splice(f,1)[0];n.splice(p,0,D),u.value.fitsTablePro.loadColumn(n)}})}return g(()=>{F()}),(l,e)=>{const o=T("fits-table");return A(),B(o,{option:I(m),ref_key:"xGrid",ref:u,class:"DragColTable"},{dragDefault:w(()=>[P]),_:1},8,["option"])}}});var K=x(y,[["__file","DragColTable.vue"]]);export{K as default};
